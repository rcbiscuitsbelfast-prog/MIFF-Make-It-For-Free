<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Toppler Debug Test</title>
    <style>
        body { margin: 0; padding: 20px; background: #000; color: white; font-family: monospace; }
        #app { width: 360px; height: 640px; border: 2px solid #fff; background: #111; }
        #status { margin: 20px 0; padding: 10px; background: #333; }
    </style>
</head>
<body>
    <h1>Toppler Debug Test</h1>
    <div id="status">Loading...</div>
    <div id="app"></div>
    
    <script>
        console.log('[Debug Test] Page loaded');
        document.getElementById('status').textContent = 'Page loaded, waiting for script...';
        
        // Test if the script loads
        const script = document.createElement('script');
        script.type = 'module';
        script.src = './dist/index.js';
        
        script.onload = () => {
            console.log('[Debug Test] Script loaded successfully');
            document.getElementById('status').textContent = 'Script loaded successfully';
        };
        
        script.onerror = (error) => {
            console.error('[Debug Test] Script failed to load:', error);
            document.getElementById('status').textContent = 'Script failed to load: ' + error.message;
        };
        
        document.head.appendChild(script);
        
        // Add URL parameter for autostart
        if (!window.location.search.includes('autostart=1')) {
            window.history.replaceState({}, '', window.location.href + '?autostart=1');
        }
    </script>
</body>
</html>